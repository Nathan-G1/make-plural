<html>
<meta charset="utf-8">
<title>Mocha Tests</title>
<link rel="stylesheet" href="../node_modules/mocha/mocha.css" />

<div id="mocha"></div>

<script src="../make-plural.js"></script>
<script src="../plurals.js"></script>
<script>
    function getJSON(path) {
        var xhr = new XMLHttpRequest();
        xhr.open('get', path, false);
        xhr.send();
        if (xhr.status !== 200) throw new Error('XMLHttpRequest failed for ' + JSON.stringify(path));
        return JSON.parse(xhr.responseText);
    }
    window.cardinals = getJSON('../data/plurals.json');
    window.ordinals = getJSON('../data/ordinals.json');
</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="../node_modules/expect.js/index.js"></script>
<script src="../node_modules/mocha/mocha.js"></script>

<script>
    mocha.setup('bdd');
</script>
<script src="code.js"></script>
<script src="data.js"></script>
<script>
    mocha.checkLeaks();
    mocha.globals(['jQuery']);
    mocha.run();
</script>
